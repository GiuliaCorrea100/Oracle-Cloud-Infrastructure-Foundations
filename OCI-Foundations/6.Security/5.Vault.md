**OCI Vault** is a **managed service** that lets you **centrally store and manage:**

- **Encryption Keys**
- **Secrets** (passwords, certificates, tokens, SSH keys, etc.)

This eliminates the need to store keys or credentials **inside code or configuration files**, reducing security risks.

---

## **Keys vs Secrets**

| Term | Meaning |
| --- | --- |
| **Key** | Used to convert **plaintext ↔ ciphertext** during encryption and decryption. |
| **Secret** | Sensitive credential (password, private SSH key, token, TLS cert, etc.) used to authenticate or access services. |

---

## **Protection Modes for Keys**

OCI Vault supports two ways to protect **Master Encryption Keys**:

| Mode | Where the Key Lives | Exportable? | Notes |
| --- | --- | --- | --- |
| **Software Protected** | Stored on a **server** | Yes | Cryptographic operations can happen outside the Vault. |
| **HSM Protected** | Stored **inside a Hardware Security Module** | No | Cryptographic operations **must** happen **inside the HSM**. Certified to **FIPS 140-2 Level 3** security standard. |

> HSM = highest security, key never leaves the hardware.
> 

---

## **Supported Key Algorithms**

| Algorithm | Type | Use |
| --- | --- | --- |
| **AES** | Symmetric | Same key encrypts & decrypts data. Fast, common for data encryption. |
| **RSA** | Asymmetric | Public key encrypts, private key decrypts. Used for secure key exchange / encryption. |
| **ECDSA** | Asymmetric (Elliptic Curve) | **Digital signatures only** (Not for encryption). Smaller, faster keys. |

---

## **Envelope Encryption (Two-Tier Model)**

Vault uses **two levels of keys**:

1. **Data Encryption Key (DEK)** → actually encrypts the customer data
2. **Master Encryption Key (MEK)** → encrypts the DEK

```sql
Plaintext Data 
   ↓ encrypted by
Data Encryption Key (DEK)
   ↓ encrypted by
Master Encryption Key (MEK)
```

**Benefits:**

- **Rotate master key** without re-encrypting all data
- **Limits impact** if a DEK is exposed
- Easier to manage and audit

---

## **Deletion Rules**

- Vault **cannot be deleted immediately**
- You **schedule deletion** → waiting period **7 to 30 days**
- After deletion:
    - **Vault + keys are permanently destroyed**
    - **All data encrypted with those keys becomes unrecoverable**

> Deleting the master key means data is lost forever → this is why soft-delete delay exists.
> 

---

## **Example: Object Storage Encryption Flow**

1. You upload plaintext to Object Storage.
2. Object Storage requests a **Data Key** from the Vault.
3. Vault generates:
    - **Data Key**
    - **Encrypted Data Key (encrypted with Master Key)**
4. Object Storage uses the **plain Data Key** to encrypt the object.
5. Object Storage **stores:**
    - The **encrypted object**
    - The **encrypted Data Key**
6. During decryption, Object Storage sends the **encrypted Data Key** to Vault → Vault returns the **plain Data Key**, enabling decryption.

---

## Quick Exam Memory Triggers

- **Vault = central secure key and secret storage**
- **HSM = key never leaves hardware (FIPS Level 3)**
- **AES = symmetric**, **RSA = asymmetric**, **ECDSA = digital signatures**
- **Envelope encryption = Master key encrypts Data key**
- **Deleting Vault = data gone forever**

---